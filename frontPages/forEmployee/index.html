<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>信访平台</title>
    <link rel="stylesheet" href="../css/weui.css" type="text/css">
    <link rel="stylesheet" href="../css/example.css" type="text/css">

    <style>

    </style>
</head>
<body>
<div id="app" class="container">
    <div class="page tabbar js_show">
        <div class="page__bd" style="height: 100%;">
            <div class="weui-tab">
                <div class="weui-tab__panel">
                    <router-view></router-view>
                </div>
                <div class="weui-tabbar">
                    <a @click="changeTab('1')" class="weui-tabbar__item " v-bind:class="{'weui-bar__item_on':isActive==1 }">
                        <img src="../images/icon_tabbar.png" alt="" class="weui-tabbar__icon">
                        <p class="weui-tabbar__label">写信</p>
                    </a>
                    <a @click="changeTab('2')" class="weui-tabbar__item" v-bind:class="{'weui-bar__item_on':isActive==2 }">
                    <span style="display: inline-block;position: relative;">
                        <img src="../images/icon_tabbar.png" alt="" class="weui-tabbar__icon">
                        <span class="weui-badge" style="position: absolute;top: -2px;right: -13px;">8</span>
                    </span>
                        <p class="weui-tabbar__label">我的信件</p>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.js"></script>
<script src="https://unpkg.com/vue-router@2.0.0/dist/vue-router.js"></script>
<script src="route.js"></script>
<script>

    var app = new Vue({
        router:router,
        el: '#app',
        data: {
            message: 'Hello Vue!',
            isActive:1
        },
        methods:{
            changeTab(val){
                this.isActive = val;
                if(val == 1){
                    this.$router.push('/bar')
                }else {
                    this.$router.push('/foo')
                }

            }
        }
    })
</script>
</body>
</html>